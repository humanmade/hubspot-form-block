(()=>{"use strict";var e,o=[()=>{const e=window.wp.blocks,o=window.wp.element,t=window.wp.i18n,r=window.wp.blockEditor,l=window.wp.components,a=window.wp.data,n=(window.wp.serverSideRender,window.ReactJSXRuntime),s=JSON.parse('{"UU":"hubspot/form"}');(0,e.registerBlockType)(s.UU,{icon:{src:(0,n.jsx)("svg",{height:"2500",viewBox:"6.20856283 .64498824 244.26943717 251.24701176",width:"2500",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m191.385 85.694v-29.506a22.722 22.722 0 0 0 13.101-20.48v-.677c0-12.549-10.173-22.722-22.721-22.722h-.678c-12.549 0-22.722 10.173-22.722 22.722v.677a22.722 22.722 0 0 0 13.101 20.48v29.506a64.342 64.342 0 0 0 -30.594 13.47l-80.922-63.03c.577-2.083.878-4.225.912-6.375a25.6 25.6 0 1 0 -25.633 25.55 25.323 25.323 0 0 0 12.607-3.43l79.685 62.007c-14.65 22.131-14.258 50.974.987 72.7l-24.236 24.243c-1.96-.626-4-.959-6.057-.987-11.607.01-21.01 9.423-21.007 21.03.003 11.606 9.412 21.014 21.018 21.017 11.607.003 21.02-9.4 21.03-21.007a20.747 20.747 0 0 0 -.988-6.056l23.976-23.985c21.423 16.492 50.846 17.913 73.759 3.562 22.912-14.352 34.475-41.446 28.985-67.918-5.49-26.473-26.873-46.734-53.603-50.792m-9.938 97.044a33.17 33.17 0 1 1 0-66.316c17.85.625 32 15.272 32.01 33.134.008 17.86-14.127 32.522-31.977 33.165",fill:"#ff7a59"})})},edit:function({attributes:e,setAttributes:s}){const{portalId:i,region:c,formId:b,redirectUrl:h,submitText:u,goToWebinarWebinarKey:d,sfdcCampaignId:p,inlineMessage:m,gtmEventName:g}=e,[f,v]=(0,o.useState)(!1),{canSetPortalId:_,defaultPortalId:w="",defaultRegion:x}=(0,a.useSelect)((e=>{const o=e("core").getSite();return{canSetPortalId:e("core").canUser("update","settings"),defaultPortalId:o?.hubspot_embed_portal_id||"",defaultRegion:o?.hubspot_embed_region||"eu1"}}),[f]),{saveSite:k}=(0,a.useDispatch)("core");return(0,n.jsxs)("div",{...(0,r.useBlockProps)(),children:[(0,n.jsxs)(r.InspectorControls,{children:[(0,n.jsxs)(l.PanelBody,{title:(0,t.__)("Global Settings","hubspot-form-block"),initialOpen:!w&&!i,children:[(0,n.jsx)(l.TextControl,{label:(0,t.__)("Portal ID","hubspot-form-block"),value:i,placeholder:w,onChange:e=>{s({portalId:e}),v(!0)},required:!w}),(0,n.jsx)(l.SelectControl,{label:(0,t.__)("Region","hubspot-form-block"),options:[{label:(0,t.__)("Europe","hubspot-form-block"),value:"eu1"},{label:(0,t.__)("North America","hubspot-form-block"),value:"na1"}],value:c,defaultValue:x,onChange:e=>{s({region:e}),v(!0)}}),_&&f&&(0,n.jsx)(l.Button,{variant:"secondary",onClick:()=>{s({portalId:""}),k({hubspot_embed_portal_id:i,hubspot_embed_region:c}),v(!1)},children:(0,t.__)("Set as global defaults","hubspot-form-block")})]}),(0,n.jsxs)(l.PanelBody,{title:(0,t.__)("Form Settings","hubspot-form-block"),children:[(0,n.jsx)(l.TextControl,{label:(0,t.__)("Form ID","hubspot-form-block"),value:b,onChange:e=>s({formId:e}),required:!0}),(0,n.jsx)(l.TextControl,{label:(0,t.__)("Redirect URL","hubspot-form-block"),type:"url",value:h,onChange:e=>s({redirectUrl:e})}),(0,n.jsx)(l.TextareaControl,{help:(0,t.__)("Overrides redirect URL if provided","hubspot-form-block"),label:(0,t.__)("Inline message","hubspot-form-block"),value:m,onChange:e=>s({inlineMessage:e})}),(0,n.jsx)(l.TextControl,{label:(0,t.__)("Submit button text","hubspot-form-block"),value:u,onChange:e=>s({submitText:e})}),(0,n.jsx)(l.TextControl,{label:(0,t.__)("SalesForce campaign key","hubspot-form-block"),value:p,onChange:e=>s({sfdcCampaignId:e})}),(0,n.jsx)(l.TextControl,{label:(0,t.__)("GoToWebinar webinar key","hubspot-form-block"),value:d,onChange:e=>s({goToWebinarWebinarKey:e})}),(0,n.jsx)(l.TextControl,{label:(0,t.__)("Google Tag Manager event name","hubspot-form-block"),value:g,onChange:e=>s({gtmEventName:e})})]})]}),(0,n.jsxs)("h3",{children:[(0,n.jsx)("svg",{style:{width:"1em",height:"1em",marginRight:"12px"},height:"2500",viewBox:"6.20856283 .64498824 244.26943717 251.24701176",width:"2500",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"m191.385 85.694v-29.506a22.722 22.722 0 0 0 13.101-20.48v-.677c0-12.549-10.173-22.722-22.721-22.722h-.678c-12.549 0-22.722 10.173-22.722 22.722v.677a22.722 22.722 0 0 0 13.101 20.48v29.506a64.342 64.342 0 0 0 -30.594 13.47l-80.922-63.03c.577-2.083.878-4.225.912-6.375a25.6 25.6 0 1 0 -25.633 25.55 25.323 25.323 0 0 0 12.607-3.43l79.685 62.007c-14.65 22.131-14.258 50.974.987 72.7l-24.236 24.243c-1.96-.626-4-.959-6.057-.987-11.607.01-21.01 9.423-21.007 21.03.003 11.606 9.412 21.014 21.018 21.017 11.607.003 21.02-9.4 21.03-21.007a20.747 20.747 0 0 0 -.988-6.056l23.976-23.985c21.423 16.492 50.846 17.913 73.759 3.562 22.912-14.352 34.475-41.446 28.985-67.918-5.49-26.473-26.873-46.734-53.603-50.792m-9.938 97.044a33.17 33.17 0 1 1 0-66.316c17.85.625 32 15.272 32.01 33.134.008 17.86-14.127 32.522-31.977 33.165",fill:"#ff7a59"})}),(0,t.__)("Hubspot Form","hubspot-form-block")]}),(!w||!b)&&(0,n.jsx)("p",{children:(0,t.__)("Please enter a Portal ID and a Form ID in the sidebar block controls.","hubspot-form-block")}),w&&b&&(0,n.jsx)("p",{children:(0,t.__)("Please preview your changes to see the form, it cannot be shown in the editor directly.","hubspot-form-block")})]})}})}],t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,r),a.exports}r.m=o,e=[],r.O=(o,t,l,a)=>{if(!t){var n=1/0;for(b=0;b<e.length;b++){for(var[t,l,a]=e[b],s=!0,i=0;i<t.length;i++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](t[i])))?t.splice(i--,1):(s=!1,a<n&&(n=a));if(s){e.splice(b--,1);var c=l();void 0!==c&&(o=c)}}return o}a=a||0;for(var b=e.length;b>0&&e[b-1][2]>a;b--)e[b]=e[b-1];e[b]=[t,l,a]},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var l,a,[n,s,i]=t,c=0;if(n.some((o=>0!==e[o]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var b=i(r)}for(o&&o(t);c<n.length;c++)a=n[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(b)},t=globalThis.webpackChunkhubspot_form=globalThis.webpackChunkhubspot_form||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var l=r.O(void 0,[350],(()=>r(0)));l=r.O(l)})();